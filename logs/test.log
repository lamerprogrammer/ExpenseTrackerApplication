12:52:44.288 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.3.Final
12:52:44.315 [main] INFO  t.c.RecurringTransactionControllerIT - Starting RecurringTransactionControllerIT using Java 17.0.16 with PID 6336 (started by lamer in C:\Users\lamer\IdeaProjects\expense-tracker)
12:52:44.319 [main] INFO  t.c.RecurringTransactionControllerIT - The following 1 profile is active: "test"
12:52:44.811 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
12:52:44.811 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Elasticsearch repositories in DEFAULT mode.
12:52:44.837 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface com.example.expensetracker.logging.audit.AuditRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository
12:52:44.837 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface com.example.expensetracker.repository.CategoryRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository
12:52:44.837 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface com.example.expensetracker.repository.ExpenseRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository
12:52:44.837 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface com.example.expensetracker.repository.RecurringTransactionRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository
12:52:44.837 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Elasticsearch - Could not safely identify store assignment for repository candidate interface com.example.expensetracker.repository.UserRepository; If you want this repository to be a Elasticsearch repository, consider annotating your entities with one of these annotations: org.springframework.data.elasticsearch.annotations.Document (preferred), or consider extending one of the following types with your repository: org.springframework.data.elasticsearch.repository.ElasticsearchRepository
12:52:44.854 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 38 ms. Found 1 Elasticsearch repository interface.
12:52:44.862 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
12:52:44.862 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
12:52:44.866 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.example.expensetracker.logging.applog.AppLogRepository; If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: jakarta.persistence.Entity, jakarta.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository
12:52:44.875 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 5 JPA repository interfaces.
12:52:45.378 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 0 (http)
12:52:45.390 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
12:52:45.390 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
12:52:45.390 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.44]
12:52:45.439 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
12:52:45.439 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1115 ms
12:52:45.927 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
12:52:46.053 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@61ca5134
12:52:46.054 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
12:52:46.141 [main] INFO  liquibase.database - Set default schema name to public
12:52:46.203 [main] INFO  liquibase.ui - INFO: The drop-all command may result in unrecoverable destructive changes to objects at 'jdbc:postgresql://localhost:5432/expense_tracker'.
To protect against unwanted drops, set --requireForce=true, which will require a --force=true flag on the command.
Learn more at https://docs.liquibase.com/dropall.

12:52:46.257 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
12:52:46.261 [main] INFO  liquibase.command - Dropping Database Objects in schema: expense_tracker.public
12:52:46.263 [main] INFO  liquibase.snapshot - Creating snapshot
12:52:46.359 [main] WARN  liquibase.executor - drop cascades to 2 other objects
12:52:46.364 [main] WARN  liquibase.executor - drop cascades to 4 other objects
12:52:46.588 [main] INFO  liquibase.database - Successfully deleted all supported object types in schema expense_tracker.public.
12:52:46.591 [main] INFO  liquibase.snapshot - Creating snapshot
12:52:46.594 [main] WARN  liquibase.lockservice - Failed to release change log lock
12:52:46.598 [main] INFO  liquibase.snapshot - Creating snapshot
12:52:46.600 [main] INFO  liquibase.ui - All objects dropped from postgres@jdbc:postgresql://localhost:5432/expense_tracker
12:52:46.601 [main] INFO  liquibase.command - Command execution complete
12:52:47.329 [main] INFO  liquibase.changelog - Creating database history table with name: public.databasechangelog
12:52:47.348 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
12:52:47.381 [main] INFO  liquibase.snapshot - Creating snapshot
12:52:47.455 [main] INFO  liquibase.lockservice - Successfully acquired change log lock
12:52:47.455 [main] INFO  liquibase.command - Using deploymentId: 1385965918
12:52:47.456 [main] INFO  liquibase.changelog - Reading from public.databasechangelog
12:52:47.469 [main] INFO  liquibase.ui - Running Changeset: db/changelog/001-create-users.xml::000-create-users::lamer
12:52:47.484 [main] INFO  liquibase.changelog - Table users created
12:52:47.485 [main] INFO  liquibase.changelog - Table user_roles created
12:52:47.488 [main] INFO  liquibase.changelog - Primary key added to user_roles (user_id, role)
12:52:47.489 [main] INFO  liquibase.changelog - Foreign key constraint added to user_roles (user_id)
12:52:47.491 [main] INFO  liquibase.changelog - ChangeSet db/changelog/001-create-users.xml::000-create-users::lamer ran successfully in 18ms
12:52:47.496 [main] INFO  liquibase.ui - Running Changeset: db/changelog/002-add-audit-table.xml::002-add-audit-table::lamer
12:52:47.500 [main] INFO  liquibase.changelog - Table admin_audit created
12:52:47.501 [main] INFO  liquibase.changelog - Foreign key constraint added to admin_audit (target_user_id)
12:52:47.502 [main] INFO  liquibase.changelog - Foreign key constraint added to admin_audit (performed_by)
12:52:47.503 [main] INFO  liquibase.changelog - ChangeSet db/changelog/002-add-audit-table.xml::002-add-audit-table::lamer ran successfully in 7ms
12:52:47.505 [main] INFO  liquibase.ui - Running Changeset: db/changelog/003-create-categories-table.xml::005-create-categories-table::lamer
12:52:47.511 [main] INFO  liquibase.changelog - Table categories created
12:52:47.513 [main] INFO  liquibase.changelog - ChangeSet db/changelog/003-create-categories-table.xml::005-create-categories-table::lamer ran successfully in 8ms
12:52:47.515 [main] INFO  liquibase.ui - Running Changeset: db/changelog/004-create-expenses-table.xml.xml::003-expenses-table::lamer
12:52:47.522 [main] INFO  liquibase.changelog - Table expenses created
12:52:47.523 [main] INFO  liquibase.changelog - Foreign key constraint added to expenses (user_id)
12:52:47.524 [main] INFO  liquibase.changelog - Foreign key constraint added to expenses (category_id)
12:52:47.525 [main] INFO  liquibase.changelog - ChangeSet db/changelog/004-create-expenses-table.xml.xml::003-expenses-table::lamer ran successfully in 9ms
12:52:47.528 [main] INFO  liquibase.ui - Running Changeset: db/changelog/005-add-deleted-total-expenses.xml::004-add-deleted-total-expenses::lamer
12:52:47.530 [main] INFO  liquibase.changelog - Columns deleted(boolean),total_expenses(numeric(19,2)) added to users
12:52:47.531 [main] INFO  liquibase.changelog - ChangeSet db/changelog/005-add-deleted-total-expenses.xml::004-add-deleted-total-expenses::lamer ran successfully in 3ms
12:52:47.534 [main] INFO  liquibase.ui - Running Changeset: db/changelog/006-create-recurring-transactions-table.xml::006-create-recurring_transactions-table::lamer
12:52:47.539 [main] INFO  liquibase.changelog - Table recurring_transactions created
12:52:47.540 [main] INFO  liquibase.changelog - Foreign key constraint added to recurring_transactions (user_id)
12:52:47.541 [main] INFO  liquibase.changelog - Foreign key constraint added to recurring_transactions (category_id)
12:52:47.542 [main] INFO  liquibase.changelog - ChangeSet db/changelog/006-create-recurring-transactions-table.xml::006-create-recurring_transactions-table::lamer ran successfully in 8ms
12:52:47.546 [main] INFO  liquibase.util - UPDATE SUMMARY
12:52:47.546 [main] INFO  liquibase.util - Run:                          6
12:52:47.546 [main] INFO  liquibase.util - Previously run:               0
12:52:47.546 [main] INFO  liquibase.util - Filtered out:                 0
12:52:47.546 [main] INFO  liquibase.util - -------------------------------
12:52:47.546 [main] INFO  liquibase.util - Total change sets:            6
12:52:47.546 [main] INFO  liquibase.util - Update summary generated
12:52:47.549 [main] INFO  liquibase.command - Update command completed successfully.
12:52:47.549 [main] INFO  liquibase.ui - Liquibase: Update has been successful. Rows affected: 6
12:52:47.551 [main] INFO  liquibase.lockservice - Successfully released change log lock
12:52:47.552 [main] INFO  liquibase.command - Command execution complete
12:52:47.594 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
12:52:47.617 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.26.Final
12:52:47.634 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
12:52:47.765 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
12:52:47.791 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
12:52:47.801 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 15.14
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
12:52:48.259 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
12:52:48.259 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
12:52:48.388 [main] DEBUG c.e.e.security.JwtAuthFilter - Filter 'jwtAuthFilter' configured for use
12:52:48.388 [main] DEBUG c.e.e.logging.applog.AppLogFilter - Filter 'appLogFilter' configured for use
12:52:48.492 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
12:52:49.128 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
12:52:49.192 [main] INFO  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with UserDetailsService bean with name customUserDetailsService
12:52:49.390 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 33 mappings in 'requestMappingHandlerMapping'
12:52:49.490 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
12:52:49.552 [main] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, LogoutFilter, JwtAuthFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
12:52:49.600 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
12:52:49.639 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 3 @ExceptionHandler, 1 ResponseBodyAdvice
12:52:49.657 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 3 @ExceptionHandler, 0 ResponseBodyAdvice
12:52:49.844 [main] DEBUG c.e.e.logging.applog.AppLogFilter - Filter 'appLogFilter' configured for use
12:52:49.844 [main] DEBUG c.e.e.security.JwtAuthFilter - Filter 'jwtAuthFilter' configured for use
12:52:49.844 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring TestDispatcherServlet ''
12:52:49.845 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Initializing Servlet ''
12:52:49.845 [main] INFO  o.s.t.w.s.TestDispatcherServlet - Completed initialization in 0 ms
12:52:49.877 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
12:52:49.883 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 53183 (http) with context path '/'
12:52:49.895 [main] INFO  t.c.RecurringTransactionControllerIT - Started RecurringTransactionControllerIT in 5.743 seconds (process running for 6.282)
12:52:50.176 [main] DEBUG org.hibernate.SQL - insert into users (banned,deleted,email,password,total_expenses) values (?,?,?,?,?)
12:52:50.195 [main] DEBUG org.hibernate.SQL - insert into user_roles (user_id,role) values (?,?)
12:52:50.236 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.banned,u1_0.deleted,u1_0.email,u1_0.password,u1_0.total_expenses from users u1_0 where (u1_0.deleted = false) and u1_0.email=?
12:52:50.247 [main] DEBUG org.hibernate.SQL - select r1_0.user_id,r1_0.role from user_roles r1_0 where r1_0.user_id=?
12:52:50.259 [main] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/recurring-transaction
12:52:50.259 [main] INFO  c.e.e.security.JwtAuthFilter - Мы внутри фильтра! URI: /api/recurring-transaction
12:52:50.263 [main] INFO  c.e.e.security.JwtAuthFilter - Заголовок входящей авторизации: null
12:52:50.263 [main] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/recurring-transaction
12:52:50.263 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.expensetracker.controller.RecurringTransactionController#getAll(UserDetails, HttpServletRequest)
12:52:50.271 [main] DEBUG org.hibernate.SQL - select rt1_0.id,rt1_0.active,rt1_0.amount,rt1_0.category_id,rt1_0.description,rt1_0.interval_days,rt1_0.next_execution_date,rt1_0.user_id from recurring_transactions rt1_0 left join users u1_0 on u1_0.id=rt1_0.user_id and (u1_0.deleted = false) where u1_0.email=?
12:52:50.296 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
12:52:50.296 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.expensetracker.dto.ApiResponse@129e58fa]
12:52:50.433 [main] DEBUG org.hibernate.SQL - insert into users (banned,deleted,email,password,total_expenses) values (?,?,?,?,?)
12:52:50.434 [main] DEBUG org.hibernate.SQL - insert into user_roles (user_id,role) values (?,?)
12:52:50.437 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.banned,u1_0.deleted,u1_0.email,u1_0.password,u1_0.total_expenses from users u1_0 where (u1_0.deleted = false) and u1_0.email=?
12:52:50.438 [main] DEBUG org.hibernate.SQL - select r1_0.user_id,r1_0.role from user_roles r1_0 where r1_0.user_id=?
12:52:50.439 [main] DEBUG org.hibernate.SQL - insert into categories (name) values (?)
12:52:50.446 [main] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/recurring-transaction/create
12:52:50.446 [main] INFO  c.e.e.security.JwtAuthFilter - Мы внутри фильтра! URI: /api/recurring-transaction/create
12:52:50.446 [main] INFO  c.e.e.security.JwtAuthFilter - Заголовок входящей авторизации: null
12:52:50.446 [main] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/recurring-transaction/create
12:52:50.446 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.expensetracker.controller.RecurringTransactionController#create(UserDetails, RecurringTransactionRequestDto, HttpServletRequest)
12:52:50.458 [main] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RecurringTransactionRequestDto[amount=500, description=description, categoryId=1, intervalDays=30]]
12:52:50.462 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.banned,u1_0.deleted,u1_0.email,u1_0.password,u1_0.total_expenses from users u1_0 where (u1_0.deleted = false) and u1_0.email=?
12:52:50.466 [main] DEBUG org.hibernate.SQL - select r1_0.user_id,r1_0.role from user_roles r1_0 where r1_0.user_id=?
12:52:50.470 [main] DEBUG org.hibernate.SQL - select c1_0.id,c1_0.name from categories c1_0 where c1_0.id=?
12:52:50.471 [main] DEBUG org.hibernate.SQL - insert into recurring_transactions (active,amount,category_id,description,interval_days,next_execution_date,user_id) values (?,?,?,?,?,?,?)
12:52:50.474 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
12:52:50.474 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.expensetracker.dto.ApiResponse@45f7c9f7]
12:52:50.549 [main] DEBUG org.hibernate.SQL - insert into users (banned,deleted,email,password,total_expenses) values (?,?,?,?,?)
12:52:50.551 [main] DEBUG org.hibernate.SQL - insert into user_roles (user_id,role) values (?,?)
12:52:50.554 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.banned,u1_0.deleted,u1_0.email,u1_0.password,u1_0.total_expenses from users u1_0 where (u1_0.deleted = false) and u1_0.email=?
12:52:50.555 [main] DEBUG org.hibernate.SQL - select r1_0.user_id,r1_0.role from user_roles r1_0 where r1_0.user_id=?
12:52:50.556 [main] DEBUG org.hibernate.SQL - insert into categories (name) values (?)
12:52:50.558 [main] DEBUG org.hibernate.SQL - insert into recurring_transactions (active,amount,category_id,description,interval_days,next_execution_date,user_id) values (?,?,?,?,?,?,?)
12:52:50.561 [main] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/recurring-transaction
12:52:50.561 [main] INFO  c.e.e.security.JwtAuthFilter - Мы внутри фильтра! URI: /api/recurring-transaction
12:52:50.561 [main] INFO  c.e.e.security.JwtAuthFilter - Заголовок входящей авторизации: null
12:52:50.561 [main] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/recurring-transaction
12:52:50.561 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.expensetracker.controller.RecurringTransactionController#getAll(UserDetails, HttpServletRequest)
12:52:50.562 [main] DEBUG org.hibernate.SQL - select rt1_0.id,rt1_0.active,rt1_0.amount,rt1_0.category_id,rt1_0.description,rt1_0.interval_days,rt1_0.next_execution_date,rt1_0.user_id from recurring_transactions rt1_0 left join users u1_0 on u1_0.id=rt1_0.user_id and (u1_0.deleted = false) where u1_0.email=?
12:52:50.566 [main] DEBUG org.hibernate.SQL - select c1_0.id,c1_0.name from categories c1_0 where c1_0.id=?
12:52:50.568 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
12:52:50.568 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.expensetracker.dto.ApiResponse@732b3b00]
12:52:50.640 [main] DEBUG org.hibernate.SQL - insert into users (banned,deleted,email,password,total_expenses) values (?,?,?,?,?)
12:52:50.642 [main] DEBUG org.hibernate.SQL - insert into user_roles (user_id,role) values (?,?)
12:52:50.645 [main] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.banned,u1_0.deleted,u1_0.email,u1_0.password,u1_0.total_expenses from users u1_0 where (u1_0.deleted = false) and u1_0.email=?
12:52:50.646 [main] DEBUG org.hibernate.SQL - select r1_0.user_id,r1_0.role from user_roles r1_0 where r1_0.user_id=?
12:52:50.647 [main] DEBUG org.hibernate.SQL - insert into categories (name) values (?)
12:52:50.649 [main] DEBUG org.hibernate.SQL - insert into recurring_transactions (active,amount,category_id,description,interval_days,next_execution_date,user_id) values (?,?,?,?,?,?,?)
12:52:50.653 [main] DEBUG o.s.security.web.FilterChainProxy - Securing PATCH /api/recurring-transaction/3/toggle
12:52:50.653 [main] INFO  c.e.e.security.JwtAuthFilter - Мы внутри фильтра! URI: /api/recurring-transaction/3/toggle
12:52:50.653 [main] INFO  c.e.e.security.JwtAuthFilter - Заголовок входящей авторизации: null
12:52:50.653 [main] DEBUG o.s.security.web.FilterChainProxy - Secured PATCH /api/recurring-transaction/3/toggle
12:52:50.653 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.example.expensetracker.controller.RecurringTransactionController#toggleActive(Long, HttpServletRequest)
12:52:50.654 [main] DEBUG org.hibernate.SQL - select rt1_0.id,rt1_0.active,rt1_0.amount,rt1_0.category_id,rt1_0.description,rt1_0.interval_days,rt1_0.next_execution_date,rt1_0.user_id from recurring_transactions rt1_0 where rt1_0.id=?
12:52:50.656 [main] DEBUG org.hibernate.SQL - select c1_0.id,c1_0.name from categories c1_0 where c1_0.id=?
12:52:50.657 [main] DEBUG org.hibernate.SQL - update recurring_transactions set active=?,amount=?,category_id=?,description=?,interval_days=?,next_execution_date=?,user_id=? where id=?
12:52:50.661 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
12:52:50.662 [main] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.example.expensetracker.dto.ApiResponse@12ef753b]
12:52:50.677 [main] DEBUG org.hibernate.SQL - select rt1_0.id,rt1_0.active,rt1_0.amount,rt1_0.category_id,rt1_0.description,rt1_0.interval_days,rt1_0.next_execution_date,rt1_0.user_id from recurring_transactions rt1_0 where rt1_0.id=?
12:52:50.708 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
12:52:50.805 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
12:52:50.809 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
12:52:50.809 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
12:52:50.809 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
